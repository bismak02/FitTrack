[90mSun, 25 Feb 2024 11:13:58 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:13:58 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:14:01 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:14:01 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
2024/02/25 11:14:01 [DEBUG] setting computed for "unused_disk" from ComputedKeys
[90mSun, 25 Feb 2024 11:14:01 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:774[0m[36m >[0m Invoking VM create with resource data:  '{"additional_wait":0,"agent":1,"args":"","automatic_reboot":true,"balloon":0,"bios":"seabios","boot":"cdn","bootdisk":"virtio0","bridge":"","ci_wait":0,"cicustom":"","cipassword":"","ciuser":"","clone":"team01o-ubuntu-server-template","clone_wait":0,"cloudinit_cdrom_storage":"","cores":1,"cpu":"host","default_ipv4_address":"","define_connection_info":true,"desc":"A ubuntu vanilla server with Vault integration","disk":[{"aio":"","backup":0,"cache":"none","discard":"","file":"","format":"","iops":0,"iops_max":0,"iops_max_length":0,"iops_rd":0,"iops_rd_max":0,"iops_rd_max_length":0,"iops_wr":0,"iops_wr_max":0,"iops_wr_max_length":0,"iothread":0,"mbps":0,"mbps_rd":0,"mbps_rd_max":0,"mbps_wr":0,"mbps_wr_max":0,"media":"","replicate":0,"size":"30G","slot":0,"ssd":0,"storage":"datadisk2","storage_type":"","type":"virtio","volume":""}],"disk_gb":0,"force_create":false,"force_recreate_on_change_of":"","full_clone":true,"guest_agent_ready_timeout":100,"hagroup":"","hastate":"","hotplug":"network,disk,usb","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","iso":"","kvm":true,"mac":"","memory":4096,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","nameserver":"","network":[{"bridge":"vmbr0","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr1","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr2","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1}],"nic":"","numa":false,"onboot":false,"oncreate":true,"os_network_config":"","os_type":"cloud-init","pool":"","preprovision":true,"pxe":false,"qemu_os":"","reboot_required":false,"scsihw":"virtio-scsi-pci","searchdomain":"","serial":[],"sockets":1,"ssh_forward_ip":"","ssh_host":"","ssh_port":"","ssh_private_key":"","ssh_user":"","sshkeys":"","startup":"","storage":"","storage_type":"","tablet":true,"tags":"","target_node":"system41","unused_disk":[],"usb":[],"vcpus":0,"vga":[],"vlan":-1,"vmid":0}' [36mloggerName=[0mresource_vm_create [36mvmid=[0m
2024/02/25 11:14:01 [DEBUG][QemuVmCreate] checking for duplicate name: team01o-ubuntu-vanilla-server-vm0.service.consul
2024/02/25 11:14:01 [DEBUG][QemuVmCreate] cloning VM
2024/02/25 11:18:26 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:18:27 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:18:29 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:18:32 [DEBUG] VM 140(%!s(<nil>)) has no HA config
[90mSun, 25 Feb 2024 11:18:32 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:913[0m[36m >[0m Original disks: 'map[0:map[aio: backup:0 cache:none discard: file: format: iops:0 iops_max:0 iops_max_length:0 iops_rd:0 iops_rd_max:0 iops_rd_max_length:0 iops_wr:0 iops_wr_max:0 iops_wr_max_length:0 iothread:0 mbps:0 mbps_rd:0 mbps_rd_max:0 mbps_wr:0 mbps_wr_max:0 media: replicate:0 size:30G slot:0 ssd:0 storage:datadisk2 storage_type: type:virtio volume:]]', Clone Disks 'map[0:map[discard:ignore file:vm-140-disk-0 format:raw iothread:1 size:25G slot:0 storage:datadisk2 storage_type:lvm type:virtio volume:datadisk2:vm-140-disk-0]]' [36mloggerName=[0mresource_vm_create [36mvmid=[0m
2024/02/25 11:18:35 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:18:36 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:18:38 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:18:41 [DEBUG] VM 140(%!s(<nil>)) has no HA config
[90mSun, 25 Feb 2024 11:18:41 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1637[0m[36m >[0m Checking disk sizing. Original '25G', New '30G' [36mdiskId=[0m0 [36mloggerName=[0mprepareDiskSize
[90mSun, 25 Feb 2024 11:18:41 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1639[0m[36m >[0m Resizing disk [36mdiskId=[0m0 [36mloggerName=[0mprepareDiskSize
[90mSun, 25 Feb 2024 11:18:44 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1003[0m[36m >[0m Set this vm (resource Id) to 'system41/qemu/140' [36mloggerName=[0mresource_vm_create [36mvmid=[0m140
2024/02/25 11:18:44 [DEBUG][QemuVmCreate] starting VM
2024/02/25 11:18:50 [DEBUG][initConnInfo] trying to get vm ip address for provisioner
2024/02/25 11:18:50 [DEBUG][initConnInfo] retrying for at most  5m0s minutes before giving up
2024/02/25 11:18:50 [DEBUG][initConnInfo] retries will end at 2024-02-25 11:23:50.428265108 +0000 UTC m=+589.312825910
2024/02/25 11:18:53 [DEBUG][initConnInfo] check ip result error 500 QEMU guest agent is not running
2024/02/25 11:19:06 [DEBUG][initConnInfo] check ip result error 500 QEMU guest agent is not running
2024/02/25 11:19:16 [DEBUG][initConnInfo] found working QEMU Agent
2024/02/25 11:19:16 [DEBUG][initConnInfo] trying to find IP address of first network card
2024/02/25 11:19:16 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:19:27 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:19:37 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:19:47 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:19:57 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:20:07 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:20:18 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:20:28 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:20:38 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:20:48 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:20:59 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:21:09 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:21:19 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:21:29 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:21:39 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:21:49 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:22:00 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:22:10 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:22:20 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:22:30 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:22:40 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:22:51 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:23:01 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:23:11 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:23:21 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:23:31 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:23:42 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:23:52 [DEBUG][initConnInfo] vm has a cloud-init configuration
2024/02/25 11:23:52 [DEBUG][initConnInfo] not found an ip configuration yet
2024/02/25 11:23:52 [DEBUG]  found an ip configuration
[90mSun, 25 Feb 2024 11:24:54 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:24:54 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:24:54 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1376[0m[36m >[0m Reading configuration for vmid [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
2024/02/25 11:24:54 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:24:55 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:24:57 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:25:00 [DEBUG] VM 140(%!s(<nil>)) has no HA config
2024/02/25 11:25:00 [DEBUG] VM status: running
[90mSun, 25 Feb 2024 11:25:00 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1406[0m[36m >[0m [READ] Received Config from Proxmox API: {"vmid":0,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","desc":"A ubuntu vanilla server with Vault integration","bios":"seabios","onboot":false,"tablet":true,"agent":1,"memory":4096,"balloon":0,"os":"l26","cores":1,"sockets":1,"vcpus":0,"cpu":"host","numa":false,"kvm":true,"hotplug":"network,disk,usb","iso":"none","pxe":false,"fullclone":null,"boot":"cdn","bootdisk":"virtio0","scsihw":"virtio-scsi-pci","disk":{"0":{"file":"vm-140-disk-0","format":"raw","size":"30G","slot":0,"storage":"datadisk2","storage_type":"lvm","type":"virtio","volume":"datadisk2:vm-140-disk-0"}},"unused_disk":{},"network":{"0":{"bridge":"vmbr0","id":0,"macaddr":"AA:6F:1D:08:86:09","model":"virtio"},"1":{"bridge":"vmbr1","id":1,"macaddr":"9A:28:2C:20:5F:92","model":"virtio"},"2":{"bridge":"vmbr2","id":2,"macaddr":"62:B8:33:9B:A0:8F","model":"virtio"}},"tags":"","args":"","diskGB":0,"storage":"","storageType":"","nic":"","bridge":"","vlan":-1,"mac":"","ciuser":"","cipassword":"","cicustom":"","searchdomain":"","nameserver":"","sshkeys":"","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","ipconfig6":"","ipconfig7":"","ipconfig8":"","ipconfig9":"","ipconfig10":"","ipconfig11":"","ipconfig12":"","ipconfig13":"","ipconfig14":"","ipconfig15":""} [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:00 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1499[0m[36m >[0m Unused Disk Block Processed 'map[0:map[bridge:vmbr0 id:0 macaddr:AA:6F:1D:08:86:09 model:virtio] 1:map[bridge:vmbr1 id:1 macaddr:9A:28:2C:20:5F:92 model:virtio] 2:map[bridge:vmbr2 id:2 macaddr:62:B8:33:9B:A0:8F model:virtio]]' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:00 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1513[0m[36m >[0m Network block received 'map[0:map[bridge:vmbr0 id:0 macaddr:AA:6F:1D:08:86:09 model:virtio] 1:map[bridge:vmbr1 id:1 macaddr:9A:28:2C:20:5F:92 model:virtio] 2:map[bridge:vmbr2 id:2 macaddr:62:B8:33:9B:A0:8F model:virtio]]' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:00 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1573[0m[36m >[0m VM Net Config 'map[0:map[bridge:vmbr0 id:0 macaddr:AA:6F:1D:08:86:09 model:virtio tag:-1] 1:map[bridge:vmbr1 id:1 macaddr:9A:28:2C:20:5F:92 model:virtio tag:-1] 2:map[bridge:vmbr2 id:2 macaddr:62:B8:33:9B:A0:8F model:virtio tag:-1]]' from '[map[bridge:vmbr0 macaddr:AA:6F:1D:08:86:09 model:virtio tag:-1] map[bridge:vmbr1 macaddr:9A:28:2C:20:5F:92 model:virtio tag:-1] map[bridge:vmbr2 macaddr:62:B8:33:9B:A0:8F model:virtio tag:-1]]' set as '[map[bridge:vmbr0 firewall:false link_down:false macaddr:AA:6F:1D:08:86:09 model:virtio mtu:0 queues:0 rate:0 tag:-1] map[bridge:vmbr1 firewall:false link_down:false macaddr:9A:28:2C:20:5F:92 model:virtio mtu:0 queues:0 rate:0 tag:-1] map[bridge:vmbr2 firewall:false link_down:false macaddr:62:B8:33:9B:A0:8F model:virtio mtu:0 queues:0 rate:0 tag:-1]]' type of 'string' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:00 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1575[0m[36m >[0m Finished VM read resulting in data: '{"additional_wait":0,"agent":1,"args":"","automatic_reboot":true,"balloon":0,"bios":"seabios","boot":"cdn","bootdisk":"virtio0","bridge":"","ci_wait":0,"cicustom":"","cipassword":"","ciuser":"","clone":"team01o-ubuntu-server-template","clone_wait":0,"cloudinit_cdrom_storage":"","cores":1,"cpu":"host","default_ipv4_address":"","define_connection_info":true,"desc":"A ubuntu vanilla server with Vault integration","disk":[{"aio":"","backup":0,"cache":"none","discard":"","file":"vm-140-disk-0","format":"raw","iops":0,"iops_max":0,"iops_max_length":0,"iops_rd":0,"iops_rd_max":0,"iops_rd_max_length":0,"iops_wr":0,"iops_wr_max":0,"iops_wr_max_length":0,"iothread":0,"mbps":0,"mbps_rd":0,"mbps_rd_max":0,"mbps_wr":0,"mbps_wr_max":0,"media":"","replicate":0,"size":"30G","slot":0,"ssd":0,"storage":"datadisk2","storage_type":"lvm","type":"virtio","volume":"datadisk2:vm-140-disk-0"}],"disk_gb":0,"force_create":false,"force_recreate_on_change_of":"","full_clone":true,"guest_agent_ready_timeout":100,"hagroup":"","hastate":"","hotplug":"network,disk,usb","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","iso":"","kvm":true,"mac":"","memory":4096,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","nameserver":"","network":[{"bridge":"vmbr0","firewall":false,"link_down":false,"macaddr":"AA:6F:1D:08:86:09","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr1","firewall":false,"link_down":false,"macaddr":"9A:28:2C:20:5F:92","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr2","firewall":false,"link_down":false,"macaddr":"62:B8:33:9B:A0:8F","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1}],"nic":"","numa":false,"onboot":false,"oncreate":true,"os_network_config":"","os_type":"cloud-init","pool":"","preprovision":true,"pxe":false,"qemu_os":"l26","reboot_required":false,"scsihw":"virtio-scsi-pci","searchdomain":"","serial":[],"sockets":1,"ssh_forward_ip":"","ssh_host":"","ssh_port":"","ssh_private_key":"","ssh_user":"","sshkeys":"","startup":"","storage":"","storage_type":"","tablet":true,"tags":"","target_node":"system41","unused_disk":[],"usb":[],"vcpus":0,"vga":[],"vlan":-1,"vmid":0}' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:12 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:25:12 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:25:12 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1376[0m[36m >[0m Reading configuration for vmid [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
2024/02/25 11:25:12 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:25:14 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:25:16 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:25:19 [DEBUG] VM 140(%!s(<nil>)) has no HA config
2024/02/25 11:25:19 [DEBUG] VM status: running
[90mSun, 25 Feb 2024 11:25:19 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1406[0m[36m >[0m [READ] Received Config from Proxmox API: {"vmid":0,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","desc":"A ubuntu vanilla server with Vault integration","bios":"seabios","onboot":false,"tablet":true,"agent":1,"memory":4096,"balloon":0,"os":"l26","cores":1,"sockets":1,"vcpus":0,"cpu":"host","numa":false,"kvm":true,"hotplug":"network,disk,usb","iso":"none","pxe":false,"fullclone":null,"boot":"cdn","bootdisk":"virtio0","scsihw":"virtio-scsi-pci","disk":{"0":{"file":"vm-140-disk-0","format":"raw","size":"30G","slot":0,"storage":"datadisk2","storage_type":"lvm","type":"virtio","volume":"datadisk2:vm-140-disk-0"}},"unused_disk":{},"network":{"0":{"bridge":"vmbr0","id":0,"macaddr":"AA:6F:1D:08:86:09","model":"virtio"},"1":{"bridge":"vmbr1","id":1,"macaddr":"9A:28:2C:20:5F:92","model":"virtio"},"2":{"bridge":"vmbr2","id":2,"macaddr":"62:B8:33:9B:A0:8F","model":"virtio"}},"tags":"","args":"","diskGB":0,"storage":"","storageType":"","nic":"","bridge":"","vlan":-1,"mac":"","ciuser":"","cipassword":"","cicustom":"","searchdomain":"","nameserver":"","sshkeys":"","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","ipconfig6":"","ipconfig7":"","ipconfig8":"","ipconfig9":"","ipconfig10":"","ipconfig11":"","ipconfig12":"","ipconfig13":"","ipconfig14":"","ipconfig15":""} [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:19 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1499[0m[36m >[0m Unused Disk Block Processed 'map[0:map[bridge:vmbr0 id:0 macaddr:AA:6F:1D:08:86:09 model:virtio] 1:map[bridge:vmbr1 id:1 macaddr:9A:28:2C:20:5F:92 model:virtio] 2:map[bridge:vmbr2 id:2 macaddr:62:B8:33:9B:A0:8F model:virtio]]' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:19 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1513[0m[36m >[0m Network block received 'map[0:map[bridge:vmbr0 id:0 macaddr:AA:6F:1D:08:86:09 model:virtio] 1:map[bridge:vmbr1 id:1 macaddr:9A:28:2C:20:5F:92 model:virtio] 2:map[bridge:vmbr2 id:2 macaddr:62:B8:33:9B:A0:8F model:virtio]]' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:19 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1573[0m[36m >[0m VM Net Config 'map[0:map[bridge:vmbr0 id:0 macaddr:AA:6F:1D:08:86:09 model:virtio tag:-1] 1:map[bridge:vmbr1 id:1 macaddr:9A:28:2C:20:5F:92 model:virtio tag:-1] 2:map[bridge:vmbr2 id:2 macaddr:62:B8:33:9B:A0:8F model:virtio tag:-1]]' from '[map[bridge:vmbr0 macaddr:AA:6F:1D:08:86:09 model:virtio tag:-1] map[bridge:vmbr1 macaddr:9A:28:2C:20:5F:92 model:virtio tag:-1] map[bridge:vmbr2 macaddr:62:B8:33:9B:A0:8F model:virtio tag:-1]]' set as '[map[bridge:vmbr0 firewall:false link_down:false macaddr:AA:6F:1D:08:86:09 model:virtio mtu:0 queues:0 rate:0 tag:-1] map[bridge:vmbr1 firewall:false link_down:false macaddr:9A:28:2C:20:5F:92 model:virtio mtu:0 queues:0 rate:0 tag:-1] map[bridge:vmbr2 firewall:false link_down:false macaddr:62:B8:33:9B:A0:8F model:virtio mtu:0 queues:0 rate:0 tag:-1]]' type of 'string' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:19 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1575[0m[36m >[0m Finished VM read resulting in data: '{"additional_wait":0,"agent":1,"args":"","automatic_reboot":true,"balloon":0,"bios":"seabios","boot":"cdn","bootdisk":"virtio0","bridge":"","ci_wait":0,"cicustom":"","cipassword":"","ciuser":"","clone":"team01o-ubuntu-server-template","clone_wait":0,"cloudinit_cdrom_storage":"","cores":1,"cpu":"host","default_ipv4_address":"","define_connection_info":true,"desc":"A ubuntu vanilla server with Vault integration","disk":[{"aio":"","backup":0,"cache":"none","discard":"","file":"vm-140-disk-0","format":"raw","iops":0,"iops_max":0,"iops_max_length":0,"iops_rd":0,"iops_rd_max":0,"iops_rd_max_length":0,"iops_wr":0,"iops_wr_max":0,"iops_wr_max_length":0,"iothread":0,"mbps":0,"mbps_rd":0,"mbps_rd_max":0,"mbps_wr":0,"mbps_wr_max":0,"media":"","replicate":0,"size":"30G","slot":0,"ssd":0,"storage":"datadisk2","storage_type":"lvm","type":"virtio","volume":"datadisk2:vm-140-disk-0"}],"disk_gb":0,"force_create":false,"force_recreate_on_change_of":"","full_clone":true,"guest_agent_ready_timeout":100,"hagroup":"","hastate":"","hotplug":"network,disk,usb","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","iso":"","kvm":true,"mac":"","memory":4096,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","nameserver":"","network":[{"bridge":"vmbr0","firewall":false,"link_down":false,"macaddr":"AA:6F:1D:08:86:09","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr1","firewall":false,"link_down":false,"macaddr":"9A:28:2C:20:5F:92","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr2","firewall":false,"link_down":false,"macaddr":"62:B8:33:9B:A0:8F","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1}],"nic":"","numa":false,"onboot":false,"oncreate":true,"os_network_config":"","os_type":"cloud-init","pool":"","preprovision":true,"pxe":false,"qemu_os":"l26","reboot_required":false,"scsihw":"virtio-scsi-pci","searchdomain":"","serial":[],"sockets":1,"ssh_forward_ip":"","ssh_host":"","ssh_port":"","ssh_private_key":"","ssh_user":"","sshkeys":"","startup":"","storage":"","storage_type":"","tablet":true,"tags":"","target_node":"system41","unused_disk":[],"usb":[],"vcpus":0,"vga":[],"vlan":-1,"vmid":0}' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:25:19 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:25:19 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:25:23 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:25:23 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:28:04 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:28:04 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:28:06 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:28:06 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
2024/02/25 11:28:06 [DEBUG] setting computed for "unused_disk" from ComputedKeys
[90mSun, 25 Feb 2024 11:28:06 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:774[0m[36m >[0m Invoking VM create with resource data:  '{"additional_wait":0,"agent":1,"args":"","automatic_reboot":true,"balloon":0,"bios":"seabios","boot":"cdn","bootdisk":"virtio0","bridge":"","ci_wait":0,"cicustom":"","cipassword":"","ciuser":"","clone":"team01o-ubuntu-server-template","clone_wait":0,"cloudinit_cdrom_storage":"","cores":1,"cpu":"host","default_ipv4_address":"","define_connection_info":true,"desc":"A ubuntu vanilla server with Vault integration","disk":[{"aio":"","backup":0,"cache":"none","discard":"","file":"","format":"","iops":0,"iops_max":0,"iops_max_length":0,"iops_rd":0,"iops_rd_max":0,"iops_rd_max_length":0,"iops_wr":0,"iops_wr_max":0,"iops_wr_max_length":0,"iothread":0,"mbps":0,"mbps_rd":0,"mbps_rd_max":0,"mbps_wr":0,"mbps_wr_max":0,"media":"","replicate":0,"size":"30G","slot":0,"ssd":0,"storage":"datadisk3","storage_type":"","type":"virtio","volume":""}],"disk_gb":0,"force_create":false,"force_recreate_on_change_of":"","full_clone":true,"guest_agent_ready_timeout":100,"hagroup":"","hastate":"","hotplug":"network,disk,usb","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","iso":"","kvm":true,"mac":"","memory":4096,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","nameserver":"","network":[{"bridge":"vmbr0","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr1","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr2","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1}],"nic":"","numa":false,"onboot":false,"oncreate":true,"os_network_config":"","os_type":"cloud-init","pool":"","preprovision":true,"pxe":false,"qemu_os":"","reboot_required":false,"scsihw":"virtio-scsi-pci","searchdomain":"","serial":[],"sockets":1,"ssh_forward_ip":"","ssh_host":"","ssh_port":"","ssh_private_key":"","ssh_user":"","sshkeys":"","startup":"","storage":"","storage_type":"","tablet":true,"tags":"","target_node":"system41","unused_disk":[],"usb":[],"vcpus":0,"vga":[],"vlan":-1,"vmid":0}' [36mloggerName=[0mresource_vm_create [36mvmid=[0m
2024/02/25 11:28:06 [DEBUG][QemuVmCreate] checking for duplicate name: team01o-ubuntu-vanilla-server-vm0.service.consul
2024/02/25 11:28:06 [DEBUG][QemuVmCreate] cloning VM
2024/02/25 11:32:31 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:32:32 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:32:34 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:32:37 [DEBUG] VM 140(%!s(<nil>)) has no HA config
[90mSun, 25 Feb 2024 11:32:37 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:913[0m[36m >[0m Original disks: 'map[0:map[aio: backup:0 cache:none discard: file: format: iops:0 iops_max:0 iops_max_length:0 iops_rd:0 iops_rd_max:0 iops_rd_max_length:0 iops_wr:0 iops_wr_max:0 iops_wr_max_length:0 iothread:0 mbps:0 mbps_rd:0 mbps_rd_max:0 mbps_wr:0 mbps_wr_max:0 media: replicate:0 size:30G slot:0 ssd:0 storage:datadisk3 storage_type: type:virtio volume:]]', Clone Disks 'map[0:map[discard:ignore file:vm-140-disk-0 format:raw iothread:1 size:25G slot:0 storage:datadisk3 storage_type:lvm type:virtio volume:datadisk3:vm-140-disk-0]]' [36mloggerName=[0mresource_vm_create [36mvmid=[0m
2024/02/25 11:32:40 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:32:41 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:32:43 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:32:46 [DEBUG] VM 140(%!s(<nil>)) has no HA config
[90mSun, 25 Feb 2024 11:32:46 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1637[0m[36m >[0m Checking disk sizing. Original '25G', New '30G' [36mdiskId=[0m0 [36mloggerName=[0mprepareDiskSize
[90mSun, 25 Feb 2024 11:32:46 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1639[0m[36m >[0m Resizing disk [36mdiskId=[0m0 [36mloggerName=[0mprepareDiskSize
[90mSun, 25 Feb 2024 11:32:49 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1003[0m[36m >[0m Set this vm (resource Id) to 'system41/qemu/140' [36mloggerName=[0mresource_vm_create [36mvmid=[0m140
2024/02/25 11:32:49 [DEBUG][QemuVmCreate] starting VM
2024/02/25 11:32:55 [DEBUG][initConnInfo] trying to get vm ip address for provisioner
2024/02/25 11:32:55 [DEBUG][initConnInfo] retrying for at most  5m0s minutes before giving up
2024/02/25 11:32:55 [DEBUG][initConnInfo] retries will end at 2024-02-25 11:37:55.373514105 +0000 UTC m=+589.063487565
2024/02/25 11:32:58 [DEBUG][initConnInfo] check ip result error 500 QEMU guest agent is not running
2024/02/25 11:33:11 [DEBUG][initConnInfo] check ip result error 500 QEMU guest agent is not running
2024/02/25 11:33:21 [DEBUG][initConnInfo] found working QEMU Agent
2024/02/25 11:33:21 [DEBUG][initConnInfo] trying to find IP address of first network card
2024/02/25 11:33:21 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:33:32 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:33:42 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:33:52 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:34:02 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:34:12 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:34:23 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:34:33 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:34:43 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:34:53 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:35:04 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:35:14 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:35:24 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:35:34 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:35:44 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:35:55 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:36:05 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:36:15 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:36:25 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:36:35 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:36:46 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:36:56 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:37:06 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:37:16 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:37:26 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:37:37 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:37:47 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:37:57 [DEBUG][initConnInfo] vm has a cloud-init configuration
2024/02/25 11:37:57 [DEBUG][initConnInfo] not found an ip configuration yet
2024/02/25 11:37:57 [DEBUG]  found an ip configuration
[90mSun, 25 Feb 2024 11:39:27 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:39:27 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:39:27 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1376[0m[36m >[0m Reading configuration for vmid [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
2024/02/25 11:39:28 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:39:29 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:39:31 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/140
2024/02/25 11:39:34 [DEBUG] VM 140(%!s(<nil>)) has no HA config
2024/02/25 11:39:34 [DEBUG] VM status: running
[90mSun, 25 Feb 2024 11:39:34 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1406[0m[36m >[0m [READ] Received Config from Proxmox API: {"vmid":0,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","desc":"A ubuntu vanilla server with Vault integration","bios":"seabios","onboot":false,"tablet":true,"agent":1,"memory":4096,"balloon":0,"os":"l26","cores":1,"sockets":1,"vcpus":0,"cpu":"host","numa":false,"kvm":true,"hotplug":"network,disk,usb","iso":"none","pxe":false,"fullclone":null,"boot":"cdn","bootdisk":"virtio0","scsihw":"virtio-scsi-pci","disk":{"0":{"file":"vm-140-disk-0","format":"raw","size":"30G","slot":0,"storage":"datadisk3","storage_type":"lvm","type":"virtio","volume":"datadisk3:vm-140-disk-0"}},"unused_disk":{},"network":{"0":{"bridge":"vmbr0","id":0,"macaddr":"C6:D9:82:F5:6F:E0","model":"virtio"},"1":{"bridge":"vmbr1","id":1,"macaddr":"C6:60:3E:BB:92:1C","model":"virtio"},"2":{"bridge":"vmbr2","id":2,"macaddr":"86:36:20:7F:3A:00","model":"virtio"}},"tags":"","args":"","diskGB":0,"storage":"","storageType":"","nic":"","bridge":"","vlan":-1,"mac":"","ciuser":"","cipassword":"","cicustom":"","searchdomain":"","nameserver":"","sshkeys":"","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","ipconfig6":"","ipconfig7":"","ipconfig8":"","ipconfig9":"","ipconfig10":"","ipconfig11":"","ipconfig12":"","ipconfig13":"","ipconfig14":"","ipconfig15":""} [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:39:34 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1499[0m[36m >[0m Unused Disk Block Processed 'map[0:map[bridge:vmbr0 id:0 macaddr:C6:D9:82:F5:6F:E0 model:virtio] 1:map[bridge:vmbr1 id:1 macaddr:C6:60:3E:BB:92:1C model:virtio] 2:map[bridge:vmbr2 id:2 macaddr:86:36:20:7F:3A:00 model:virtio]]' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:39:34 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1513[0m[36m >[0m Network block received 'map[0:map[bridge:vmbr0 id:0 macaddr:C6:D9:82:F5:6F:E0 model:virtio] 1:map[bridge:vmbr1 id:1 macaddr:C6:60:3E:BB:92:1C model:virtio] 2:map[bridge:vmbr2 id:2 macaddr:86:36:20:7F:3A:00 model:virtio]]' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:39:34 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1573[0m[36m >[0m VM Net Config 'map[0:map[bridge:vmbr0 id:0 macaddr:C6:D9:82:F5:6F:E0 model:virtio tag:-1] 1:map[bridge:vmbr1 id:1 macaddr:C6:60:3E:BB:92:1C model:virtio tag:-1] 2:map[bridge:vmbr2 id:2 macaddr:86:36:20:7F:3A:00 model:virtio tag:-1]]' from '[map[bridge:vmbr0 macaddr:C6:D9:82:F5:6F:E0 model:virtio tag:-1] map[bridge:vmbr1 macaddr:C6:60:3E:BB:92:1C model:virtio tag:-1] map[bridge:vmbr2 macaddr:86:36:20:7F:3A:00 model:virtio tag:-1]]' set as '[map[bridge:vmbr0 firewall:false link_down:false macaddr:C6:D9:82:F5:6F:E0 model:virtio mtu:0 queues:0 rate:0 tag:-1] map[bridge:vmbr1 firewall:false link_down:false macaddr:C6:60:3E:BB:92:1C model:virtio mtu:0 queues:0 rate:0 tag:-1] map[bridge:vmbr2 firewall:false link_down:false macaddr:86:36:20:7F:3A:00 model:virtio mtu:0 queues:0 rate:0 tag:-1]]' type of 'string' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:39:34 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1575[0m[36m >[0m Finished VM read resulting in data: '{"additional_wait":0,"agent":1,"args":"","automatic_reboot":true,"balloon":0,"bios":"seabios","boot":"cdn","bootdisk":"virtio0","bridge":"","ci_wait":0,"cicustom":"","cipassword":"","ciuser":"","clone":"team01o-ubuntu-server-template","clone_wait":0,"cloudinit_cdrom_storage":"","cores":1,"cpu":"host","default_ipv4_address":"","define_connection_info":true,"desc":"A ubuntu vanilla server with Vault integration","disk":[{"aio":"","backup":0,"cache":"none","discard":"","file":"vm-140-disk-0","format":"raw","iops":0,"iops_max":0,"iops_max_length":0,"iops_rd":0,"iops_rd_max":0,"iops_rd_max_length":0,"iops_wr":0,"iops_wr_max":0,"iops_wr_max_length":0,"iothread":0,"mbps":0,"mbps_rd":0,"mbps_rd_max":0,"mbps_wr":0,"mbps_wr_max":0,"media":"","replicate":0,"size":"30G","slot":0,"ssd":0,"storage":"datadisk3","storage_type":"lvm","type":"virtio","volume":"datadisk3:vm-140-disk-0"}],"disk_gb":0,"force_create":false,"force_recreate_on_change_of":"","full_clone":true,"guest_agent_ready_timeout":100,"hagroup":"","hastate":"","hotplug":"network,disk,usb","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","iso":"","kvm":true,"mac":"","memory":4096,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","nameserver":"","network":[{"bridge":"vmbr0","firewall":false,"link_down":false,"macaddr":"C6:D9:82:F5:6F:E0","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr1","firewall":false,"link_down":false,"macaddr":"C6:60:3E:BB:92:1C","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr2","firewall":false,"link_down":false,"macaddr":"86:36:20:7F:3A:00","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1}],"nic":"","numa":false,"onboot":false,"oncreate":true,"os_network_config":"","os_type":"cloud-init","pool":"","preprovision":true,"pxe":false,"qemu_os":"l26","reboot_required":false,"scsihw":"virtio-scsi-pci","searchdomain":"","serial":[],"sockets":1,"ssh_forward_ip":"","ssh_host":"","ssh_port":"","ssh_private_key":"","ssh_user":"","sshkeys":"","startup":"","storage":"","storage_type":"","tablet":true,"tags":"","target_node":"system41","unused_disk":[],"usb":[],"vcpus":0,"vga":[],"vlan":-1,"vmid":0}' [36mloggerName=[0mresource_vm_read [36mvmid=[0m140
[90mSun, 25 Feb 2024 11:39:34 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:39:34 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:39:45 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:39:45 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:42:07 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:42:07 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:42:10 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:42:10 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:42:29 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:42:29 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:42:36 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:42:36 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:43:17 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:43:17 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:44:39 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:44:39 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:44:51 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:44:51 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
[90mSun, 25 Feb 2024 11:44:53 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:155[0m[36m >[0m Enabling the capture of log-library logs as ithe _capturelog flag was detected
[90mSun, 25 Feb 2024 11:44:53 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/util.go:188[0m[36m >[0m Logging Started. Root Logger Set to level debug
2024/02/25 11:44:53 [DEBUG] setting computed for "unused_disk" from ComputedKeys
[90mSun, 25 Feb 2024 11:44:53 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:774[0m[36m >[0m Invoking VM create with resource data:  '{"additional_wait":0,"agent":1,"args":"","automatic_reboot":true,"balloon":0,"bios":"seabios","boot":"cdn","bootdisk":"virtio0","bridge":"","ci_wait":0,"cicustom":"","cipassword":"","ciuser":"","clone":"team01o-ubuntu-server-template","clone_wait":0,"cloudinit_cdrom_storage":"","cores":1,"cpu":"host","default_ipv4_address":"","define_connection_info":true,"desc":"A ubuntu vanilla server with Vault integration","disk":[{"aio":"","backup":0,"cache":"none","discard":"","file":"","format":"","iops":0,"iops_max":0,"iops_max_length":0,"iops_rd":0,"iops_rd_max":0,"iops_rd_max_length":0,"iops_wr":0,"iops_wr_max":0,"iops_wr_max_length":0,"iothread":0,"mbps":0,"mbps_rd":0,"mbps_rd_max":0,"mbps_wr":0,"mbps_wr_max":0,"media":"","replicate":0,"size":"30G","slot":0,"ssd":0,"storage":"datadisk3","storage_type":"","type":"virtio","volume":""}],"disk_gb":0,"force_create":false,"force_recreate_on_change_of":"","full_clone":true,"guest_agent_ready_timeout":100,"hagroup":"","hastate":"","hotplug":"network,disk,usb","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","iso":"","kvm":true,"mac":"","memory":4096,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","nameserver":"","network":[{"bridge":"vmbr0","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr1","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr2","firewall":false,"link_down":false,"macaddr":"","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1}],"nic":"","numa":false,"onboot":false,"oncreate":true,"os_network_config":"","os_type":"cloud-init","pool":"","preprovision":true,"pxe":false,"qemu_os":"","reboot_required":false,"scsihw":"virtio-scsi-pci","searchdomain":"","serial":[],"sockets":1,"ssh_forward_ip":"","ssh_host":"","ssh_port":"","ssh_private_key":"","ssh_user":"","sshkeys":"","startup":"","storage":"","storage_type":"","tablet":true,"tags":"","target_node":"system41","unused_disk":[],"usb":[],"vcpus":0,"vga":[],"vlan":-1,"vmid":0}' [36mloggerName=[0mresource_vm_create [36mvmid=[0m
2024/02/25 11:44:53 [DEBUG][QemuVmCreate] checking for duplicate name: team01o-ubuntu-vanilla-server-vm0.service.consul
2024/02/25 11:44:53 [DEBUG][QemuVmCreate] cloning VM
2024/02/25 11:49:18 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:49:19 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:49:21 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:49:24 [DEBUG] VM 110(%!s(<nil>)) has no HA config
[90mSun, 25 Feb 2024 11:49:24 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:913[0m[36m >[0m Original disks: 'map[0:map[aio: backup:0 cache:none discard: file: format: iops:0 iops_max:0 iops_max_length:0 iops_rd:0 iops_rd_max:0 iops_rd_max_length:0 iops_wr:0 iops_wr_max:0 iops_wr_max_length:0 iothread:0 mbps:0 mbps_rd:0 mbps_rd_max:0 mbps_wr:0 mbps_wr_max:0 media: replicate:0 size:30G slot:0 ssd:0 storage:datadisk3 storage_type: type:virtio volume:]]', Clone Disks 'map[0:map[discard:ignore file:vm-110-disk-0 format:raw iothread:1 size:25G slot:0 storage:datadisk3 storage_type:lvm type:virtio volume:datadisk3:vm-110-disk-0]]' [36mloggerName=[0mresource_vm_create [36mvmid=[0m
2024/02/25 11:49:27 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:49:28 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:49:30 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:49:33 [DEBUG] VM 110(%!s(<nil>)) has no HA config
[90mSun, 25 Feb 2024 11:49:33 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1637[0m[36m >[0m Checking disk sizing. Original '25G', New '30G' [36mdiskId=[0m0 [36mloggerName=[0mprepareDiskSize
[90mSun, 25 Feb 2024 11:49:33 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1639[0m[36m >[0m Resizing disk [36mdiskId=[0m0 [36mloggerName=[0mprepareDiskSize
[90mSun, 25 Feb 2024 11:49:35 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1003[0m[36m >[0m Set this vm (resource Id) to 'system41/qemu/110' [36mloggerName=[0mresource_vm_create [36mvmid=[0m110
2024/02/25 11:49:35 [DEBUG][QemuVmCreate] starting VM
2024/02/25 11:49:42 [DEBUG][initConnInfo] trying to get vm ip address for provisioner
2024/02/25 11:49:42 [DEBUG][initConnInfo] retrying for at most  5m0s minutes before giving up
2024/02/25 11:49:42 [DEBUG][initConnInfo] retries will end at 2024-02-25 11:54:42.248259248 +0000 UTC m=+589.260873033
2024/02/25 11:49:45 [DEBUG][initConnInfo] check ip result error 500 QEMU guest agent is not running
2024/02/25 11:49:58 [DEBUG][initConnInfo] check ip result error 500 QEMU guest agent is not running
2024/02/25 11:50:08 [DEBUG][initConnInfo] found working QEMU Agent
2024/02/25 11:50:08 [DEBUG][initConnInfo] trying to find IP address of first network card
2024/02/25 11:50:08 [DEBUG][initConnInfo] checking network card...
2024/02/25 11:50:08 [DEBUG][initConnInfo] Found IP address: 192.168.172.103
2024/02/25 11:50:08 [DEBUG][initConnInfo] vm has a cloud-init configuration
2024/02/25 11:50:08 [DEBUG]  found an ip configuration
2024/02/25 11:50:08 [DEBUG][QemuVmCreate] vm creation done!
[90mSun, 25 Feb 2024 11:50:08 +0000[0m [32mINF[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1376[0m[36m >[0m Reading configuration for vmid [36mloggerName=[0mresource_vm_read [36mvmid=[0m110
2024/02/25 11:50:09 [DEBUG][GetJsonRetryable] Sleeping for 1 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:50:10 [DEBUG][GetJsonRetryable] Sleeping for 2 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:50:12 [DEBUG][GetJsonRetryable] Sleeping for 3 seconds before asking url /cluster/ha/resources/110
2024/02/25 11:50:15 [DEBUG] VM 110(%!s(<nil>)) has no HA config
2024/02/25 11:50:15 [DEBUG] VM status: running
[90mSun, 25 Feb 2024 11:50:15 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1406[0m[36m >[0m [READ] Received Config from Proxmox API: {"vmid":0,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","desc":"A ubuntu vanilla server with Vault integration","bios":"seabios","onboot":false,"tablet":true,"agent":1,"memory":4096,"balloon":0,"os":"l26","cores":1,"sockets":1,"vcpus":0,"cpu":"host","numa":false,"kvm":true,"hotplug":"network,disk,usb","iso":"none","pxe":false,"fullclone":null,"boot":"cdn","bootdisk":"virtio0","scsihw":"virtio-scsi-pci","disk":{"0":{"file":"vm-110-disk-0","format":"raw","size":"30G","slot":0,"storage":"datadisk3","storage_type":"lvm","type":"virtio","volume":"datadisk3:vm-110-disk-0"}},"unused_disk":{},"network":{"0":{"bridge":"vmbr0","id":0,"macaddr":"2E:C3:6D:4C:DD:07","model":"virtio"},"1":{"bridge":"vmbr1","id":1,"macaddr":"BA:83:34:FA:47:EF","model":"virtio"},"2":{"bridge":"vmbr2","id":2,"macaddr":"D2:6F:31:3B:22:5C","model":"virtio"}},"tags":"","args":"","diskGB":0,"storage":"","storageType":"","nic":"","bridge":"","vlan":-1,"mac":"","ciuser":"","cipassword":"","cicustom":"","searchdomain":"","nameserver":"","sshkeys":"","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","ipconfig6":"","ipconfig7":"","ipconfig8":"","ipconfig9":"","ipconfig10":"","ipconfig11":"","ipconfig12":"","ipconfig13":"","ipconfig14":"","ipconfig15":""} [36mloggerName=[0mresource_vm_read [36mvmid=[0m110
[90mSun, 25 Feb 2024 11:50:15 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1499[0m[36m >[0m Unused Disk Block Processed 'map[0:map[bridge:vmbr0 id:0 macaddr:2E:C3:6D:4C:DD:07 model:virtio] 1:map[bridge:vmbr1 id:1 macaddr:BA:83:34:FA:47:EF model:virtio] 2:map[bridge:vmbr2 id:2 macaddr:D2:6F:31:3B:22:5C model:virtio]]' [36mloggerName=[0mresource_vm_read [36mvmid=[0m110
[90mSun, 25 Feb 2024 11:50:15 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1513[0m[36m >[0m Network block received 'map[0:map[bridge:vmbr0 id:0 macaddr:2E:C3:6D:4C:DD:07 model:virtio] 1:map[bridge:vmbr1 id:1 macaddr:BA:83:34:FA:47:EF model:virtio] 2:map[bridge:vmbr2 id:2 macaddr:D2:6F:31:3B:22:5C model:virtio]]' [36mloggerName=[0mresource_vm_read [36mvmid=[0m110
[90mSun, 25 Feb 2024 11:50:15 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1573[0m[36m >[0m VM Net Config 'map[0:map[bridge:vmbr0 id:0 macaddr:2E:C3:6D:4C:DD:07 model:virtio tag:-1] 1:map[bridge:vmbr1 id:1 macaddr:BA:83:34:FA:47:EF model:virtio tag:-1] 2:map[bridge:vmbr2 id:2 macaddr:D2:6F:31:3B:22:5C model:virtio tag:-1]]' from '[map[bridge:vmbr0 macaddr:2E:C3:6D:4C:DD:07 model:virtio tag:-1] map[bridge:vmbr1 macaddr:BA:83:34:FA:47:EF model:virtio tag:-1] map[bridge:vmbr2 macaddr:D2:6F:31:3B:22:5C model:virtio tag:-1]]' set as '[map[bridge:vmbr0 firewall:false link_down:false macaddr:2E:C3:6D:4C:DD:07 model:virtio mtu:0 queues:0 rate:0 tag:-1] map[bridge:vmbr1 firewall:false link_down:false macaddr:BA:83:34:FA:47:EF model:virtio mtu:0 queues:0 rate:0 tag:-1] map[bridge:vmbr2 firewall:false link_down:false macaddr:D2:6F:31:3B:22:5C model:virtio mtu:0 queues:0 rate:0 tag:-1]]' type of 'string' [36mloggerName=[0mresource_vm_read [36mvmid=[0m110
[90mSun, 25 Feb 2024 11:50:15 +0000[0m [33mDBG[0m [1mgithub.com/Telmate/terraform-provider-proxmox/proxmox/resource_vm_qemu.go:1575[0m[36m >[0m Finished VM read resulting in data: '{"additional_wait":0,"agent":1,"args":"","automatic_reboot":true,"balloon":0,"bios":"seabios","boot":"cdn","bootdisk":"virtio0","bridge":"","ci_wait":0,"cicustom":"","cipassword":"","ciuser":"","clone":"team01o-ubuntu-server-template","clone_wait":0,"cloudinit_cdrom_storage":"","cores":1,"cpu":"host","default_ipv4_address":"192.168.172.103","define_connection_info":true,"desc":"A ubuntu vanilla server with Vault integration","disk":[{"aio":"","backup":0,"cache":"none","discard":"","file":"vm-110-disk-0","format":"raw","iops":0,"iops_max":0,"iops_max_length":0,"iops_rd":0,"iops_rd_max":0,"iops_rd_max_length":0,"iops_wr":0,"iops_wr_max":0,"iops_wr_max_length":0,"iothread":0,"mbps":0,"mbps_rd":0,"mbps_rd_max":0,"mbps_wr":0,"mbps_wr_max":0,"media":"","replicate":0,"size":"30G","slot":0,"ssd":0,"storage":"datadisk3","storage_type":"lvm","type":"virtio","volume":"datadisk3:vm-110-disk-0"}],"disk_gb":0,"force_create":false,"force_recreate_on_change_of":"","full_clone":true,"guest_agent_ready_timeout":100,"hagroup":"","hastate":"","hotplug":"network,disk,usb","ipconfig0":"ip=dhcp","ipconfig1":"ip=dhcp","ipconfig2":"ip=dhcp","ipconfig3":"","ipconfig4":"","ipconfig5":"","iso":"","kvm":true,"mac":"","memory":4096,"name":"team01o-ubuntu-vanilla-server-vm0.service.consul","nameserver":"","network":[{"bridge":"vmbr0","firewall":false,"link_down":false,"macaddr":"2E:C3:6D:4C:DD:07","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr1","firewall":false,"link_down":false,"macaddr":"BA:83:34:FA:47:EF","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1},{"bridge":"vmbr2","firewall":false,"link_down":false,"macaddr":"D2:6F:31:3B:22:5C","model":"virtio","mtu":0,"queues":0,"rate":0,"tag":-1}],"nic":"","numa":false,"onboot":false,"oncreate":true,"os_network_config":"","os_type":"cloud-init","pool":"","preprovision":true,"pxe":false,"qemu_os":"l26","reboot_required":false,"scsihw":"virtio-scsi-pci","searchdomain":"","serial":[],"sockets":1,"ssh_forward_ip":"","ssh_host":"192.168.172.103","ssh_port":"22","ssh_private_key":"","ssh_user":"","sshkeys":"","startup":"","storage":"","storage_type":"","tablet":true,"tags":"","target_node":"system41","unused_disk":[],"usb":[],"vcpus":0,"vga":[],"vlan":-1,"vmid":0}' [36mloggerName=[0mresource_vm_read [36mvmid=[0m110
